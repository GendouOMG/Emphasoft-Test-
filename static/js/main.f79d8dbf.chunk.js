(this["webpackJsonpemphasoft-test"]=this["webpackJsonpemphasoft-test"]||[]).push([[0],{25:function(e,n,t){},26:function(e,n,t){},27:function(e,n,t){},34:function(e,n,t){},35:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var s=t(0),a=t.n(s),c=t(19),r=t.n(c),i=(t(25),t(8)),o=t(6),l=t(2),j=(t(26),t(27),t(1));var u=function(e){var n=e.sessionToken,t=e.setSessionToken;return Object(j.jsxs)("div",{className:"Header",children:[Object(j.jsx)("div",{className:"Header__nav-wrapper",children:Object(j.jsx)(o.b,{to:"/",className:"Header__logo-link",children:Object(j.jsx)("img",{className:"Header__logo",src:"data:image/png;base64,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",alt:"Logo"})})}),Object(j.jsxs)("div",{className:"Header__sub-nav-wrapper",children:[Object(j.jsxs)("div",{className:"Header__contacts",children:[Object(j.jsx)("p",{className:"Header__phone",children:"+7 (495) 2XX-77-69 "}),Object(j.jsx)("button",{className:"Header__call-back",children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u0432\u043e\u043d\u043e\u043a"})]}),Object(j.jsxs)("div",{className:"Header__sub-nav",children:[Object(j.jsx)(o.b,{className:"Header__nav-link",to:"/userlist",children:"\u0421\u043f\u0438\u0441\u043e\u043a"}),!1!==n?Object(j.jsx)("button",{onClick:function(){return t(!1)},className:"Header__nav-link",children:"\u0412\u044b\u0439\u0442\u0438"}):Object(j.jsx)(o.b,{className:"Header__nav-link",to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(j.jsx)(o.b,{className:!1!==n?"Header__sub-nav-btn Header__sub-nav-btn--green":"Header__sub-nav-btn",to:"/login"})]})]})]})};t(34);var h=function(e){var n=e.sessionToken,t=e.setSessionToken,a=Object(s.useState)(""),c=Object(i.a)(a,2),r=c[0],l=c[1],u=Object(s.useState)(""),h=Object(i.a)(u,2),d=h[0],b=h[1],m=Object(s.useState)(!1),p=Object(i.a)(m,2),O=p[0],x=p[1];return!1!==n?Object(j.jsxs)("div",{className:"LoginForm",children:[Object(j.jsx)("h3",{className:"LoginForm__headline",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(j.jsx)(o.b,{to:"/userlist",className:"LoginForm__listLink",children:"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439!"}),Object(j.jsx)("button",{className:"LoginForm__signInBtn",onClick:function(){return t(!1)},children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(j.jsxs)("form",{className:"LoginForm",onSubmit:function(e){x(!0),e.preventDefault(),fetch("http://emphasoft-test-assignment.herokuapp.com/api-token-auth/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:d})}).then((function(e){if(200===e.status)return e.json();throw e})).then((function(e){t(e.token),x(!1)})).catch((function(e){e.json().then((function(e){x(!1),function(e){var n="";for(var t in e)n=n+t+": "+e[t]+"\n";alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c! \n"+n)}(e)}))}))},children:[Object(j.jsx)("h3",{className:"LoginForm__headline",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(j.jsx)("input",{className:"LoginForm__inputField",onChange:function(e){l(e.target.value)},type:"text",value:r,name:"Username",placeholder:"Username"}),Object(j.jsx)("input",{className:"LoginForm__inputField",onChange:function(e){b(e.target.value)},type:"password",value:d,name:"Password",placeholder:"Password"}),Object(j.jsx)("button",{disabled:O||0===d.length||0===r.length,className:"LoginForm__signInBtn LoginForm__signInBtn--green",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})},d=t(17);t(35);var b=function(e){var n=e.userData;return Object(j.jsxs)("div",{className:"UserUnit",children:[Object(j.jsxs)("p",{className:"UserUnit__infoItem",children:["ID: ",n.id]}),Object(j.jsxs)("p",{className:"UserUnit__infoItem",children:["Username: ",n.username]})]})};t(36);var m=function(e){var n=e.sessionToken,t=Object(s.useState)([]),a=Object(i.a)(t,2),c=a[0],r=a[1],l=Object(s.useState)(!1),u=Object(i.a)(l,2),h=u[0],m=u[1],p=Object(s.useState)(""),O=Object(i.a)(p,2),x=O[0],g=O[1],f=Object(s.useState)(!1),A=Object(i.a)(f,2),v=A[0],U=A[1];function N(){U(!0),fetch("http://emphasoft-test-assignment.herokuapp.com/api/v1/users/",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+n}}).then((function(e){if(200===e.status)return e.json();throw e})).then((function(e){r(e),U(!1)})).catch((function(e){e.json().then((function(e){U(!1)}))}))}return Object(s.useEffect)((function(){N()}),[]),!1===n?Object(j.jsxs)("div",{className:"UserList",children:[Object(j.jsx)("h3",{className:"UserList__header",children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0441\u043f\u0438\u0441\u043a\u0430!"}),Object(j.jsx)(o.b,{className:"UserList__refreshBtn",to:"/login",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}):Object(j.jsxs)("div",{className:"UserList",children:[Object(j.jsxs)("div",{className:"UserList__controlWrapper",children:[Object(j.jsx)("button",{className:"UserList__refreshBtn",disabled:v,onClick:N,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"}),Object(j.jsx)("button",{className:"UserList__sortOrderBtn",onClick:function(){return m((function(e){return!e}))},children:h?"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e ID":"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e ID"}),Object(j.jsx)("input",{className:"UserList__filterInput",onChange:function(e){g(e.target.value)},type:"text",value:x,placeholder:"Username"})]}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?Object(d.a)(e).sort((function(e,t){return e[n]>t[n]?-1:1})):Object(d.a)(e).sort((function(e,t){return e[n]>t[n]?1:-1}))}(c,"id",h).filter((function(e){return e.username.toLowerCase().includes(x.toLowerCase())})).map((function(e){return Object(j.jsx)(b,{userData:e},e.id)}))]})};var p=function(){var e=Object(s.useState)(!1),n=Object(i.a)(e,2),t=n[0],a=n[1];return Object(j.jsx)(o.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(u,{sessionToken:t,setSessionToken:a}),Object(j.jsxs)(l.a,{exact:!0,path:"/",children:[Object(j.jsx)("h2",{className:"App__headline",children:"\u0422\u0443\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0447\u0435\u043d\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0444\u043e\u043d, \u043d\u043e \u043b\u0443\u0447\u0448\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439!"}),Object(j.jsx)(o.b,{to:"/userlist",className:"App__listLink",children:"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439!"})]}),Object(j.jsx)(l.a,{path:"/login",children:Object(j.jsx)(h,{sessionToken:t,setSessionToken:a})}),Object(j.jsx)(l.a,{path:"/userlist",children:Object(j.jsx)(m,{sessionToken:t})})]})})},O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,38)).then((function(n){var t=n.getCLS,s=n.getFID,a=n.getFCP,c=n.getLCP,r=n.getTTFB;t(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root")),O()}},[[37,1,2]]]);
//# sourceMappingURL=main.f79d8dbf.chunk.js.map